i challenge anyone (including myself at a later date) to decipher my notes on this, but here goes:

# fw file / flash layout / memory map of OBi110-1-3-0-2886.fw

in fw file | rel to fw | end rel to fw | description | naf mods | in flash | table refs | unzipped at mem 
---------- | --------- | ------------- | ----------- | ------- | -------- | ---------- | ---------------
0F3CEE | 0 | 400 | data fw preamble (md5, version) |  | 2D0000 | 710000 |  | 
f40ee | 400 | 438 | data pointer to table 1 | change: location of table1 | 2D0400 | 710400 |  | 
0f4126 | 438 | 3BB44 | gzipped code 1 | change: size of certs | 2D0438 | 710438 | 000c0000 | 
12f832 | 3BB44 | 75064 | gzipped code 2 | change: disable downgrade check | 30BB44 | 74BB44 | 00040000 | 
168d52 | 75064 | AB237 | gzipped code 3 | change: add client_id/secret/token override code | 345064 | 785064 | 00160000 | 
19ef26 | AB238 | AF3D9 | gzipped code 4 |  | 37B238 | 7BB238 | 001e0000 | 
1A30BE | AF3D0 | B0584 | code INFLATE |  | 37F3D0 | 7BF3D0 |  | 
1A4272 | B0584 | B06C6 | ??? |  | 380584 | 7C0584 |  | 
1A43B4 | B06C6 | B06EC | data zinflate code lengths |  | 3806C6 | 7C06C6 |  | 
1A44C2 | B07D4 | B6AC9 | gzipped data 2 |  | 3807D4 | 7C07D4 | 00140000 | r25
1AA7B6 | B6AC8 | BD30C | gzipped data 3 | change: location of certs | 386AC8 | 7C6AC8 | 00010000 | r28
001b0ffa | BD30C | C3DEC | gzipped data 4 |  | 38D30C | 7CD30C | 00000100 | no offset
001b7ada | C3DEC | C475D | gzipped data 5 |  | 393DEC | 7D3DEC | 0015163c | r25
001b844a | C475C | E81CE | gzipped data 6 | change: add cert | 39475C | 7D475C | 00760000 | 
1dbeb2 | E81C4 | E86F4 | table 1 | change: relocated to 1dc102/7f8414, added entry for string at F000 | 3B81C4 | 7F81C4 |  | 
1dce32 | E9144 | EFCD0 | 0xFF | change: added strings here | 3B9144 | 7F9144 |  | 
1E39BE | EFCD0 | EFFFC | code loader 1 |  | 3BFCD0 | 7FFCD0 |  | 
1e3cea | EFFFC | F0000 | pointer to pointer to table 1 |  | 3BFFFC | 7FFFFC |  | 
1E3CEE | F0000 | F0030 | data pointer to table 2 |  | 3C0000 | 7E0000 |  | 
001e3d26 | F0038 | F4A67 | gzipped code 5 |  | 3C0038 | 7E0038 | 000b0000 | 
001e8752 | F4A64 | 10B9A5 | gzipped code 6 |  | 3C4A64 | 7E4A64 | 00030000 | 
1FF68E | 10B9A0 | 10CC50 | code INFLATE (again) |  | 3DB9A0 | 7FB9A0 |  | 
20093e | 10CC50 | 10CDA0 | data (copied to 0x24f00000) |  | 3DCC50 | 7FCC50 |  | 
00200a8e | 10CDA0 | 10D504 | gzipped data 7 |  | 3DCDA0 | 7FCDA0 | 00130000 | 
002011f2 | 10D504 | 10E999 | gzipped data 8 |  | 3DD504 | 7FD504 | 00000100 | 
00202686 | 10E998 | 10F6CC | gzipped data 9 |  | 3DE998 | 7FE998 | 00700000 | 
2033b2 | 10F6C4 | 10F9C4 | table 2 |  | 3DF6C4 | 7FF6C4 |  | 
2036b2 | 10F9C4 | 10FCD0 | 0xFF |  | 3DF9C4 | 7FF9C4 |  | 
2039BE | 10FCD0 | 10FFFC | code loader 2 (same as loader 1) |  | 3DFCD0 | 7FFCD0 |  | 
203CEa | 10FFFC | 110000 | pointer to pointer to table 2 |  | 3DFFFC | 7FFFFC |  | 
203CEe | 110000 | 120000 | 0xFF (empty for UNIT_INFO) |  | 3E0000 |  |  | 
213CEE | 120000 | 120030 | data pointer to table 3 |  | 3F0000 | CFF0000 |  | 
213D1E | 120030 | 12124C | code MD5 (copied to 0x40000) |  | 3F0030 | CFF0030 |  | 
214f3a | 12124C | 1213CC | data (copied to 0x100) |  | 3F124C | CFF124C |  | 
214FBE | 1212D0 | 1213CC | data MD5 constants table |  | 3F12D0 | CFF12D0 |  | 
2150ba | 1213CC | 12142C | table 3 |  | 3F13CC | CFF13CC |  | 
21511a | 12142C | 12FDE4 | 0xFF |  | 3F142C | CFF142C |  | 
223AD2 | 12FDE4 | 12FFFC | code loader 3 |  | 3FFDE4 | CFFFDE4 |  | 
223CEA | 12FFFC | 130000 | pointer to pointer to table 3 |  | 3FFFFC | CFFFFFC |  | 

NOTE: "gzipped" is not really gzip, since theres no headers. its actually:
raw deflate stream + little endian CRC32 + little endian length of uncompressed stream
These can be inflated with `binwalk -X` and re-deflated with `ziprisc.exe`


# fw preamble at 0xF3CEE
```
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
E3 93 51 9F EC 17 0C 8D 23 E7 32 E1 BF E8 1E 53  md5 from F3CEE-EOF with this zerod
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
31 2E 33 2E 30 20 28 42 75 69 6C 64 3A 20 32 38  version string
38 36 29 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 01 00 0F 3C EE 00 2D 00 00 00 13 00 00  ?, start of preamble in fw file, destination in flash, length
E8 1A D7 18 40 58 22 D1 23 BA CE F2 DE 7B 6C C3  md5 of "Goodbye! Reboot Now" + F3CEE-203CEE with 0xF3CFE and this zerod
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
```

# table1
```
00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4)
00 00 00 08 00 7C 07 CC 00 00 00 00 00 00 00 00  r4 = 7C07CC --> 0x1A44C2    00 00 00 01 00 14 00 00 
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5=0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00  r24=0x2EFCF4
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00  call 0x1EFCF4

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 71 04 30 00 00 00 00 00 00 00 00  r4 = 710430 --> 0x0f4126    00 00 00 00 97 00 0B 64 
00 00 00 09 00 0C 00 00 00 00 00 00 00 00 00 00  r5=0C0000
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 7D 3D E4 00 00 00 00 00 00 00 00  r4 = 7D3DE4 --> 0x1b7ada     00 00 00 01 00 15 16 3C 
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5=0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 7B B2 30 00 00 00 00 00 00 00 00  r4 = 7BB230 --> 0x19EF26 
00 00 00 09 00 1E 00 00 00 00 00 00 00 00 00 00  r5=1e0000     
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00       
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00       
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00       
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00       
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 74 BB 3C 00 00 00 00 00 00 00 00  r4 = 74BB3C --> 0x12F832
00 00 00 09 00 04 00 00 00 00 00 00 00 00 00 00  r5=040000 
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00       
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00       
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00       
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 7C 6A C0 00 00 00 00 00 00 00 00  r4 = 7C6AC0 --> 0x1AA7B6    00 00 00 01 00 01 00 00 
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5=0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00       
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00       
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 78 50 5C 00 00 00 00 00 00 00 00  r4 = 78505C --> 0x168D52
00 00 00 09 00 16 00 00 00 00 00 00 00 00 00 00  r5=160000     
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00       
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 7C D3 04 00 00 00 00 00 00 00 00  r4 = 7CD304 --> 0x1B0FFA    00 00 00 01 00 00 01 00 
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5=0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 01 00 7C 06 84 02 4F 00 00 00 00 00 52  memcpy(0x7C0684, 0x024F0000, 52*4) 
00 00 00 08 00 7D 47 54 00 00 00 00 00 00 00 00  r4 = 7d4754 --> 0x1B844A
00 00 00 09 00 76 00 00 00 00 00 00 00 00 00 00  r5=760000
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00 
00 00 00 05 00 2E FC F4 00 00 00 00 00 00 00 00 
00 00 00 04 00 1E FC F4 00 00 00 00 00 00 00 00 

00 00 00 02 00 14 F8 10 00 00 07 8B 00 00 00 00  memset0
00 00 00 02 00 02 21 90 00 00 13 5A 00 00 00 00  memset0
00 00 00 02 00 00 DD 40 00 00 02 C8 00 00 00 00  memset0
00 00 00 02 00 15 36 34 00 00 03 EB 00 00 00 00  memset0
00 00 00 05 00 13 00 00 00 00 00 00 00 00 00 00  r24=0x130000
00 00 00 07 00 11 00 00 00 00 00 00 00 00 00 00  r23=0x110000
00 00 00 0A 00 15 80 00 00 00 00 00 00 00 00 00  r2 =0x158000
00 00 00 13 00 17 80 00 00 00 00 00 00 00 00 00  r26=0x178000
00 00 00 06 00 15 00 00 00 00 00 00 00 00 00 00  r25=0x150000
00 00 00 14 00 02 00 00 00 00 00 00 00 00 00 00  r28=0x020000
00 00 00 03 40 04 FC 21 00 00 00 00 00 00 00 00  call 0x4004FC21*4=13F084 = code in f4126 @ 7F084
```

# table 2
```
00 00 00 01 00 7F CC 50 02 4F 00 00 00 00 00 52  memcpy(0x7FCC50, 0x024F0000, 52*4)
00 00 00 08 00 7F CD 98 00 00 00 00 00 00 00 00  r4 = 7fcd98 --> 0x00200a8e    00 00 00 01 00 13 00 00, uncompressed len=CD0
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5 = 0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000
00 00 00 05 00 2F EE 67 00 00 00 00 00 00 00 00  r24=0x2FEE67
00 00 00 04 00 1F EE 67 00 00 00 00 00 00 00 00  call 0x1FEE67 = 7FB99C bytes (inflate starts at 7FB9A0)

00 00 00 01 00 7F CC 50 02 4F 00 00 00 00 00 52  memcpy(0x7FCC50, 0x024F0000, 52*4)  
00 00 00 08 00 7E 00 30 00 00 00 00 00 00 00 00  r4 = 7e0030 --> 0x001e3d26     00 00 00 00 86 47 13 00 
00 00 00 09 00 0B 00 00 00 00 00 00 00 00 00 00  r5 = 0B0000
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000 
00 00 00 05 00 2F EE 67 00 00 00 00 00 00 00 00  r24=0x2FEE67 
00 00 00 04 00 1F EE 67 00 00 00 00 00 00 00 00  call 0x1FEE67 

00 00 00 02 00 13 0C D0 00 00 04 81 00 00 00 00  memset0(0x130CD0, 481*4)
00 00 00 01 00 7F D4 FC 00 00 01 00 00 00 05 25  memcpy(007FD4FC, 00000100, 0x525*4)
00 00 00 02 00 00 35 40 00 00 08 78 00 00 00 00  memset0(0x003540, 878*4)

00 00 00 01 00 7F CC 50 02 4F 00 00 00 00 00 52  memcpy(0x7FCC50, 0x024F0000, 52*4)
00 00 00 08 00 7E 4A 5C 00 00 00 00 00 00 00 00  r4 = 7e4a5c --> 0x001e8752    00 00 00 00 97 01 1F 80 
00 00 00 09 00 03 00 00 00 00 00 00 00 00 00 00  r5 = 030000
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000 
00 00 00 05 00 2F EE 67 00 00 00 00 00 00 00 00  r24=0x2FEE67 
00 00 00 04 00 1F EE 67 00 00 00 00 00 00 00 00  call 0x1FEE67 

00 00 00 01 00 7F CC 50 02 4F 00 00 00 00 00 52  memcpy(0x7FCC50, 0x024F0000, 52*4) 
00 00 00 08 00 7F D4 FC 00 00 00 00 00 00 00 00  r4 = 7fd4fc --> 0x002011f2    00 00 00 01 00 00 01 00 
00 00 00 09 00 00 00 00 00 00 00 00 00 00 00 00  r5 = 0
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000 
00 00 00 05 00 2F EE 67 00 00 00 00 00 00 00 00  r24=0x2FEE67 
00 00 00 04 00 1F EE 67 00 00 00 00 00 00 00 00  call 0x1FEE67 

00 00 00 01 00 7F CC 50 02 4F 00 00 00 00 00 52  memcpy(0x7FCC50, 0x024F0000, 52*4) 
00 00 00 08 00 7F E9 90 00 00 00 00 00 00 00 00  r4 = 7fe990 --> 0x00202686    00 00 00 00 00 00 00 00 
00 00 00 09 00 70 00 00 00 00 00 00 00 00 00 00  r5 = 700000
00 00 00 06 02 4F 00 00 00 00 00 00 00 00 00 00  r25=024F0000 
00 00 00 0B 02 48 00 00 00 00 00 00 00 00 00 00  r29=02480000 
00 00 00 0C 02 48 00 00 00 00 00 00 00 00 00 00  r19=02480000 
00 00 00 05 00 2F EE 67 00 00 00 00 00 00 00 00  r24=0x2FEE67 
00 00 00 04 00 1F EE 67 00 00 00 00 00 00 00 00  call 0x1FEE67 

00 00 00 05 00 12 C0 00 00 00 00 00 00 00 00 00  r24=0012C000
00 00 00 07 00 10 C0 00 00 00 00 00 00 00 00 00  r23=0010C000
00 00 00 06 00 14 00 00 00 00 00 00 00 00 00 00  r25=00140000
00 00 00 14 00 01 01 00 00 00 00 00 00 00 00 00  r28=00010100
00 00 00 03 40 02 E7 C5 00 00 00 00 00 00 00 00  call 0x4002E7C5*4 = B9F14 = goto ungzipped code at 1e3d26, offset 9f14
```

# table3
```
00 00 00 01 0C FF 12 4C 00 00 01 00 00 00 00 60  memcpy(0x0CFF124C, 0x100, 0x60*4)
00 00 00 02 00 00 02 80 00 00 00 00 00 00 00 00  memset0(0x280)
00 00 00 01 0C FF 00 30 00 04 00 00 00 00 04 87  memcpy(0x0CFF0030, 0x40000, 0x487*4)
00 00 00 05 00 11 00 00 40 15 F9 E0 00 00 00 00  r24=0x00110000
00 00 00 06 00 01 01 00 00 00 00 00 00 00 00 00  r25=0x00010100
00 00 00 03 40 01 00 79 00 00 00 00 00 00 00 00  jump to 0x40010079*4=401E40
```
